/**
 * Intention Tree Akinator Style ‚Äì Vers√£o Ramificada (descoberta)
 */

export type IntentionNode = {
  id: string;
  text: string;
  options: string[];
  type: 'inicio' | 'area' | 'sintoma' | 'profundidade' | 'final' | 'perfil';
  next?: Record<string, string> | string;
  emoji?: string;
  destaque?: boolean;
};

export const INTENTION_TREE: IntentionNode[] = [
  // IN√çCIO: Detec√ß√£o de perfil
  {
    id: 'init',
    type: 'inicio',
    text: 'Com qual das situa√ß√µes abaixo voc√™ mais se identifica?',
    emoji: 'üîç',
    options: [
      'Quero tratar algo na minha pele ou corpo',
      'Atendo clientes na √°rea da est√©tica',
      'S√≥ curioso(a), n√£o estou buscando nada',
    ],
    next: {
      'Quero tratar algo na minha pele ou corpo': 'area_desejo',
      'Atendo clientes na √°rea da est√©tica': 'perfil_profissional',
      'S√≥ curioso(a), n√£o estou buscando nada': 'final_curioso',
    }
  },

  // CLIENTE FINAL - MAIS ETAPAS
  {
    id: 'area_desejo',
    type: 'area',
    text: 'Qual dessas √°reas voc√™ deseja melhorar?',
    emoji: 'ü™û',
    options: ['Rosto', 'Corpo', 'Ambos'],
    next: {
      'Rosto': 'rosto_preocupacao',
      'Corpo': 'corpo_preocupacao',
      'Ambos': 'preferencia_foco',
    }
  },

  {
    id: 'preferencia_foco',
    type: 'area',
    text: 'Voc√™ prefere come√ßar pelo rosto ou corpo?',
    emoji: 'üìç',
    options: ['Rosto', 'Corpo', 'Tanto faz'],
    next: {
      'Rosto': 'rosto_preocupacao',
      'Corpo': 'corpo_preocupacao',
      'Tanto faz': 'preven_orientacao'
    }
  },

  // Novas perguntas ROSto
  {
    id: 'rosto_preocupacao',
    type: 'sintoma',
    text: 'Qual dessas situa√ß√µes mais te incomoda no rosto?',
    emoji: 'üßë‚Äçüî¨',
    options: [
      'Gordura na papada',
      'Flacidez',
      'Manchas ou melasma',
      'Linhas de express√£o'
    ],
    next: {
      'Gordura na papada': 'papada_alternativa',
      'Flacidez': 'rosto_foco_tratamento',
      'Manchas ou melasma': 'rosto_foco_tratamento',
      'Linhas de express√£o': 'rosto_foco_tratamento',
    }
  },
  {
    id: 'papada_alternativa',
    type: 'profundidade',
    text: 'Quando pensa em tratar a papada, o que faz mais sentido pra voc√™?',
    emoji: 'üí°',
    options: [
      'S√≥ lipo resolve',
      'Prefiro algo n√£o invasivo',
      'J√° tentei massagem facial',
      'Quero opini√£o de especialista',
    ],
    next: {
      'S√≥ lipo resolve': 'final_rosto_papada_sonho',
      'Prefiro algo n√£o invasivo': 'final_rosto_papada_naoinvasivo',
      'J√° tentei massagem facial': 'final_rosto_massagem',
      'Quero opini√£o de especialista': 'final_rosto_consulta'
    }
  },

  {
    id: 'rosto_foco_tratamento',
    type: 'profundidade',
    text: 'O que voc√™ j√° tentou at√© hoje para essa quest√£o?',
    emoji: 'üî¨',
    options: [
      'Nenhum tratamento ainda',
      'Produtinhos em casa',
      'Fiz algum protocolo na est√©tica',
      'Busco diagn√≥stico profissional',
    ],
    next: {
      'Nenhum tratamento ainda': 'final_rosto_iniciante',
      'Produtinhos em casa': 'final_rosto_autocuidado',
      'Fiz algum protocolo na est√©tica': 'final_rosto_experiente',
      'Busco diagn√≥stico profissional': 'final_rosto_consulta',
    }
  },

  // CORPO: perguntas aninhadas, estudo de caso leve
  {
    id: 'corpo_preocupacao',
    type: 'sintoma',
    text: 'No corpo, o que gostaria de melhorar primeiro?',
    emoji: 'üèÉ‚Äç‚ôÄÔ∏è',
    options: ['Gordura localizada', 'Flacidez', 'Dores ou incha√ßo', 'Outra coisa'],
    next: {
      'Gordura localizada': 'corpo_gordura_caso',
      'Flacidez': 'corpo_flacidez_idade',
      'Dores ou incha√ßo': 'corpo_inchaco_exemplo',
      'Outra coisa': 'final_corpo_outra'
    }
  },

  {
    id: 'corpo_gordura_caso',
    type: 'profundidade',
    text: 'J√° pensou em fazer algum procedimento ou est√° s√≥ pesquisando op√ß√µes?',
    emoji: 'üîé',
    options: [
      'Sonho com lipoescultura',
      'Queria tratar sem cortes',
      'J√° tentei dietas e exerc√≠cios',
      'Quero ver protocolos com aparelhos',
    ],
    next: {
      'Sonho com lipoescultura': 'final_corpo_lipo_sonho',
      'Queria tratar sem cortes': 'final_corpo_naoinvasivo',
      'J√° tentei dietas e exerc√≠cios': 'final_corpo_esforco',
      'Quero ver protocolos com aparelhos': 'final_corpo_aparelho'
    }
  },

  {
    id: 'corpo_flacidez_idade',
    type: 'profundidade',
    text: 'Percebe a flacidez ap√≥s emagrecer, ap√≥s gravidez ou ela veio com a idade?',
    emoji: '‚è≥',
    options: [
      'Depois do emagrecimento',
      'Ap√≥s a gravidez',
      'Veio com a idade',
      'Sempre tive tendencia',
    ],
    next: {
      'Depois do emagrecimento': 'final_corpo_flacidez_emagreceu',
      'Ap√≥s a gravidez': 'final_corpo_flacidez_gravidez',
      'Veio com a idade': 'final_corpo_flacidez_idade',
      'Sempre tive tendencia': 'final_corpo_flacidez_tendencia'
    }
  },

  {
    id: 'corpo_inchaco_exemplo',
    type: 'profundidade',
    text: 'Voc√™ sente mais incha√ßo nas pernas ou em outra regi√£o?',
    emoji: 'ü¶µ',
    options: [
      'Pernas inchadas e doloridas',
      'Incha√ßo no abd√¥men',
      'Reten√ß√£o em todo corpo',
      'Quero entender melhor'
    ],
    next: {
      'Pernas inchadas e doloridas': 'final_corpo_lipedema',
      'Incha√ßo no abd√¥men': 'final_corpo_abdomen',
      'Reten√ß√£o em todo corpo': 'final_corpo_retencao',
      'Quero entender melhor': 'final_corpo_aparelho'
    }
  },

  // Caminhos finais para cliente
  {
    id: 'final_rosto_papada_sonho',
    type: 'final',
    destaque: true,
    text: 'üòè Sonhar com lipo √© natural, mas novas tecnologias permitem tratar papada de forma n√£o invasiva! Que tal conhecer protocolos modernos?',
    options: []
  },
  {
    id: 'final_rosto_papada_naoinvasivo',
    type: 'final',
    destaque: true,
    text: 'üü£ Op√ß√£o n√£o invasiva √© tend√™ncia! Radiofrequ√™ncia e ultrassom podem ajudar muito no contorno sem cortes.',
    options: []
  },
  {
    id: 'final_rosto_massagem',
    type: 'final',
    destaque: true,
    text: 'üòä Massagem facial traz benef√≠cios, mas os melhores resultados s√£o com tecnologia em cl√≠nica combinada!',
    options: []
  },
  {
    id: 'final_rosto_consulta',
    type: 'final',
    destaque: true,
    text: 'üë©‚Äç‚öïÔ∏è Agende uma avalia√ß√£o para ter uma indica√ß√£o personalizada ‚Äì cada rosto merece cuidado exclusivo!',
    options: []
  },
  {
    id: 'final_rosto_iniciante',
    type: 'final',
    destaque: true,
    text: '‚ú® Voc√™ est√° no in√≠cio da jornada de cuidados! Vamos juntos montar um plano especial para seu caso.',
    options: []
  },
  {
    id: 'final_rosto_autocuidado',
    type: 'final',
    destaque: true,
    text: 'üí° O autocuidado √© essencial, mas o toque profissional faz a diferen√ßa para melhores resultados.',
    options: []
  },
  {
    id: 'final_rosto_experiente',
    type: 'final',
    destaque: true,
    text: 'üéØ J√° experiente em protocolos! Podemos avan√ßar para tecnologias mais avan√ßadas para seu objetivo.',
    options: []
  },

  // Corpo finais:
  {
    id: 'final_corpo_lipo_sonho',
    type: 'final',
    destaque: true,
    text: 'üòÆ‚Äçüí® Sonhar com lipo √© comum, mas hoje h√° op√ß√µes menos invasivas e super eficazes com nossos aparelhos.',
    options: []
  },
  {
    id: 'final_corpo_naoinvasivo',
    type: 'final',
    destaque: true,
    text: 'üü¢ Op√ß√µes n√£o invasivas como radiofrequ√™ncia ajudam muito a remodelar o corpo sem cortes!',
    options: []
  },
  {
    id: 'final_corpo_esforco',
    type: 'final',
    destaque: true,
    text: 'üí™ Seu esfor√ßo √© admir√°vel! Vamos potencializar com protocolos tecnol√≥gicos especialmente para seu perfil.',
    options: []
  },
  {
    id: 'final_corpo_aparelho',
    type: 'final',
    destaque: true,
    text: 'üî¨ Protocolos com aparelhos de √∫ltima gera√ß√£o podem acelerar seus resultados!',
    options: []
  },
  {
    id: 'final_corpo_flacidez_emagreceu',
    type: 'final',
    destaque: true,
    text: 'üü£ Ap√≥s emagrecer, a flacidez pode incomodar. Radiofrequ√™ncia e bioest√≠mulo de col√°geno s√£o grandes aliados.',
    options: []
  },
  {
    id: 'final_corpo_flacidez_gravidez',
    type: 'final',
    destaque: true,
    text: 'üë∂ Ap√≥s gravidez, resultados mais delicados exigem protocolos personalizados e seguros.',
    options: []
  },
  {
    id: 'final_corpo_flacidez_idade',
    type: 'final',
    destaque: true,
    text: '‚è≥ Com o tempo, col√°geno diminui ‚Äì tratamentos espec√≠ficos podem devolver firmeza √† pele.',
    options: []
  },
  {
    id: 'final_corpo_flacidez_tendencia',
    type: 'final',
    destaque: true,
    text: 'üß¨ Tend√™ncia gen√©tica precisa de acompanhamento especial. Vamos inovar nos cuidados!',
    options: []
  },
  {
    id: 'final_corpo_lipedema',
    type: 'final',
    destaque: true,
    text: 'ü¶µ Sintomas sugerem um quadro de lipedema leve. Massagem linf√°tica e aparelhos podem aliviar bastante.',
    options: []
  },
  {
    id: 'final_corpo_abdomen',
    type: 'final',
    destaque: true,
    text: 'üëó O incha√ßo abdominal pode indicar reten√ß√£o: drenagem e radiofrequ√™ncia s√£o bastante recomendados.',
    options: []
  },
  {
    id: 'final_corpo_retencao',
    type: 'final',
    destaque: true,
    text: 'üíß Reten√ß√£o generalizada precisa de avalia√ß√£o, mas nossos protocolos auxiliam nessa jornada!',
    options: []
  },
  {
    id: 'final_corpo_outra',
    type: 'final',
    destaque: true,
    text: 'üëá Conte para a gente sua preocupa√ß√£o! Quanto mais detalhes, melhor conseguimos ajudar.',
    options: []
  },
  {
    id: 'preven_orientacao',
    type: 'final',
    destaque: true,
    text: 'üõ°Ô∏è Parab√©ns pelo foco em preven√ß√£o! Cuidados cont√≠nuos, ativos e tecnologia garantem bons resultados.',
    options: []
  },

  // PROFISSIONAL: camadas extras + Estudo de caso cl√≠nico din√¢mico
  {
    id: 'perfil_profissional',
    type: 'perfil',
    text: 'Voc√™ j√° atua na est√©tica ou est√° come√ßando?',
    emoji: 'üë©‚Äç‚öïÔ∏è',
    options: ['J√° atuo', 'Come√ßando agora', 'Quero transi√ß√£o de carreira'],
    next: {
      'J√° atuo': 'prof_area_atuacao',
      'Come√ßando agora': 'final_novato',
      'Quero transi√ß√£o de carreira': 'final_transicao'
    }
  },
  {
    id: 'prof_area_atuacao',
    type: 'area',
    text: 'Qual sua maior especialidade?',
    emoji: 'üíº',
    options: ['Corpo', 'Rosto', 'Ambos'],
    next: {
      'Corpo': 'prof_caso_clinico_corpo',
      'Rosto': 'prof_caso_clinico_rosto',
      'Ambos': 'prof_caso_clinico_duplo'
    }
  },

  // Estudo de caso - CORPO (exemplo lipedema ou sarcopenia)
  {
    id: 'prof_caso_clinico_corpo',
    type: 'sintoma',
    text: 'Estudo de caso: Paciente feminina, 40 anos, pernas inchadas, dores e gordura no quadril. O que voc√™ sugeriria?',
    emoji: 'ü¶µ',
    options: ['Exerc√≠cio f√≠sico', 'Radiofrequ√™ncia', 'Massagem linf√°tica', 'Canetas emagrecedoras', 'Combina√ß√£o'],
    next: {
      'Exerc√≠cio f√≠sico': 'final_prof_resposta_erro',
      'Radiofrequ√™ncia': 'final_prof_resposta_acerto',
      'Massagem linf√°tica': 'final_prof_resposta_acerto',
      'Canetas emagrecedoras': 'final_prof_resposta_parcial',
      'Combina√ß√£o': 'final_prof_resposta_ideal'
    }
  },

  {
    id: 'final_prof_resposta_erro',
    type: 'final',
    destaque: true,
    text: 'üí≠ Exerc√≠cio ajuda, mas para esse quadro, tecnologia em radiofrequ√™ncia + drenagem acelera o resultado e atua no sintoma!',
    options: []
  },
  {
    id: 'final_prof_resposta_acerto',
    type: 'final',
    destaque: true,
    text: '‚úÖ √ìtima escolha! Radiofrequ√™ncia ou massagem linf√°tica fazem parte dos protocolos mais modernos para o quadro apresentado.',
    options: []
  },
  {
    id: 'final_prof_resposta_parcial',
    type: 'final',
    destaque: true,
    text: 'üîç Canetas s√£o uma alternativa, mas associar radiofrequ√™ncia ou drenagem aumenta o sucesso do tratamento!',
    options: []
  },
  {
    id: 'final_prof_resposta_ideal',
    type: 'final',
    destaque: true,
    text: 'üèÖ Combinar t√©cnicas √© um diferencial do profissional moderno! Protocolos multimodais costumam gerar os melhores resultados.',
    options: []
  },

  // Estudo de caso: rosto (papada)
  {
    id: 'prof_caso_clinico_rosto',
    type: 'sintoma',
    text: 'Estudo de caso: Paciente com gordura localizada na papada, sem querer passar por cirurgia. Qual protocolo sugere?',
    emoji: 'üë§',
    options: ['Massagem facial', 'Radiofrequ√™ncia', 'Ultrassom', 'Combina√ß√£o'],
    next: {
      'Massagem facial': 'final_prof_rosto_massagem',
      'Radiofrequ√™ncia': 'final_prof_rosto_ideal',
      'Ultrassom': 'final_prof_rosto_ideal',
      'Combina√ß√£o': 'final_prof_rosto_ideal'
    }
  },
  {
    id: 'final_prof_rosto_massagem',
    type: 'final',
    destaque: true,
    text: 'üí™ Massagem facial auxilia, mas para reduzir gordura localizada na papada, tecnologias como ultrassom e radiofrequ√™ncia s√£o ideais!',
    options: []
  },
  {
    id: 'final_prof_rosto_ideal',
    type: 'final',
    destaque: true,
    text: 'ü§© Excelente! Associando radiofrequ√™ncia e ultrassom tem resultados surpreendentes na defini√ß√£o de contorno facial sem ser invasivo.',
    options: []
  },

  // Estudo de caso: ambos
  {
    id: 'prof_caso_clinico_duplo',
    type: 'sintoma',
    text: 'Situa√ß√£o composta: Dois pacientes, um com sinais de lipedema, outro com flacidez p√≥s-emagrecimento. Como voc√™ monta seu protocolo?',
    emoji: 'üßë‚Äçüíº',
    options: [
      'Drenagem linf√°tica para lipedema, radiofrequ√™ncia para flacidez',
      'S√≥ drenagem',
      'S√≥ radiofrequ√™ncia',
      'Canetas/est√≠mulo muscular em ambos',
    ],
    next: {
      'Drenagem linf√°tica para lipedema, radiofrequ√™ncia para flacidez': 'final_prof_duplo_ideal',
      'S√≥ drenagem': 'final_prof_duplo_parcial',
      'S√≥ radiofrequ√™ncia': 'final_prof_duplo_parcial',
      'Canetas/est√≠mulo muscular em ambos': 'final_prof_duplo_parcial'
    }
  },
  {
    id: 'final_prof_duplo_ideal',
    type: 'final',
    destaque: true,
    text: '‚úåÔ∏è Perfeito! O melhor tratamento √© individualizado por quadro. √ìtima conduta!',
    options: []
  },
  {
    id: 'final_prof_duplo_parcial',
    type: 'final',
    destaque: true,
    text: 'üí° Lembre: resultados otimizados v√™m da associa√ß√£o de t√©cnicas certas para cada quadro.',
    options: []
  },

  // PROFISSIONAL finais demais
  {
    id: 'final_novato',
    type: 'final',
    destaque: true,
    text: 'üöÄ Novato(a) na est√©tica! Invista em forma√ß√£o continuada para potencializar resultados dos seus clientes.',
    options: []
  },
  {
    id: 'final_transicao',
    type: 'final',
    destaque: true,
    text: 'üîÑ Pronto(a) para transi√ß√£o! Conte com mentoria e protocolos modernos de equipamentos!',
    options: []
  },

  // Curioso/Preven√ß√£o
  {
    id: 'final_curioso',
    type: 'final',
    destaque: true,
    text: 'üôÉ Curiosidade nunca √© demais! Volte quando quiser descobrir mais sobre beleza avan√ßada üòâ',
    options: []
  }
];
